name: Run HermiT Reasoner

on:
  push:
    paths:
      - "aidoc-ap.ttl"
  pull_request:
    paths:
      - "aidoc-ap.ttl"
  workflow_dispatch:

jobs:
  run-hermit:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Install Java
        uses: actions/setup-java@v4
        with:
          distribution: temurin
          java-version: 17

      - name: Download HermiT
        run: |
          wget -O HermiT.zip http://www.hermit-reasoner.com/download/current/HermiT.zip
          unzip HermiT.zip
          ls -l

      - name: Run HermiT reasoner
        run: |
          # Find the jar file (in case the version number changes)
          HERMIT_JAR=$(find . -name "HermiT*.jar" | head -n 1)
          echo "Using HermiT jar: $HERMIT_JAR"
          ! java -jar "$HERMIT_JAR" -k aidoc-ap.ttl 2>&1 | grep -Ei "Exception|Error|Unsatisfiable|Invalid"
